/*
 * Mobile Experience Enhancements
 * Around-inspired responsive patterns for touch-friendly interactions
 */

// Enhanced mobile navigation
@media (max-width: 991.98px) {
  // Mobile navbar improvements
  .navbar {
    padding: 0.75rem 0;

    .container {
      padding-left: 1rem;
      padding-right: 1rem;
    }

    .navbar-brand {
      font-size: 1.25rem;
    }

    .navbar-toggler {
      border: none;
      padding: 0.5rem;
      border-radius: var(--ar-border-radius);
      background: rgba(0, 0, 255, 0.1);
      transition: all 0.3s ease;

      &:focus {
        box-shadow: 0 0 0 3px rgba(0, 0, 255, 0.25);
      }

      &:hover {
        background: rgba(0, 0, 255, 0.15);
      }
    }

    // Enhanced mobile menu
    .navbar-collapse {
      position: absolute;
      top: 100%;
      left: 1rem;
      right: 1rem;
      background: rgba(255, 255, 255, 0.98);
      backdrop-filter: blur(20px);
      border-radius: var(--ar-border-radius-xl);
      border: 1px solid rgba(0, 0, 255, 0.2);
      box-shadow:
        0 20px 60px rgba(0, 0, 0, 0.15),
        0 8px 32px rgba(0, 0, 0, 0.1);
      margin-top: 1rem;
      padding: 1.5rem;
      z-index: 1000;

      .navbar-nav {
        gap: 0.5rem;

        .nav-item {
          .nav-link {
            padding: 1rem 1.25rem;
            border-radius: var(--ar-border-radius);
            color: var(--color-text-primary);
            font-weight: 600;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            display: flex;
            align-items: center;
            justify-content: space-between;

            &:hover {
              background: rgba(0, 0, 255, 0.08);
              color: var(--color-primary-600);
              transform: translateX(8px);
            }

            &:active {
              transform: translateX(8px) scale(0.98);
            }
          }

          // Mobile dropdown styling
          .dropdown-menu {
            position: static !important;
            transform: none !important;
            width: 100%;
            margin-top: 0.5rem;
            background: rgba(0, 0, 255, 0.05);
            border: 1px solid rgba(0, 0, 255, 0.15);
            box-shadow: none;

            .dropdown-item {
              padding: 0.875rem 1.25rem;
              color: var(--color-text-secondary);
              transition: all 0.3s ease;

              &:hover {
                background: rgba(0, 0, 255, 0.1);
                color: var(--color-primary-600);
                transform: translateX(4px);
              }
            }
          }
        }
      }

      // Mobile CTA button
      .btn {
        width: 100%;
        margin-top: 1rem;
        padding: 1rem 1.5rem;
        font-size: 1rem;
        font-weight: 600;
      }
    }
  }

  // Dark theme mobile menu
  [data-bs-theme="dark"] .navbar-collapse {
    background: rgba(17, 24, 39, 0.98);
    border-color: rgba(255, 255, 255, 0.1);

    .nav-link {
      color: rgba(255, 255, 255, 0.9);

      &:hover {
        background: rgba(0, 0, 255, 0.15);
        color: var(--color-primary-400);
      }
    }

    .dropdown-menu {
      background: rgba(0, 0, 255, 0.1);

      .dropdown-item {
        color: rgba(255, 255, 255, 0.8);

        &:hover {
          color: var(--color-primary-400);
        }
      }
    }
  }
}

// Touch-friendly button sizing
@media (max-width: 767.98px) {
  .btn {
    min-height: 44px; // iOS minimum touch target
    padding: 0.875rem 1.5rem;
    font-size: 1rem;
  }

  .btn-sm {
    min-height: 36px;
    padding: 0.625rem 1rem;
    font-size: 0.875rem;
  }

  .btn-lg {
    min-height: 52px;
    padding: 1.125rem 2rem;
    font-size: 1.125rem;
  }
}

// Mobile form improvements
@media (max-width: 991.98px) {
  .form-control {
    min-height: 44px;
    padding: 0.875rem 1rem;
    font-size: 1rem; // Prevents zoom on iOS

    &:focus {
      transform: scale(1.02);
    }
  }

  .form-floating {
    .form-control {
      min-height: 58px;
    }

    label {
      padding: 1rem 1rem 0;
    }
  }

  .input-group {
    .form-control,
    .input-group-text {
      min-height: 44px;
    }
  }
}

// Mobile card optimizations
@media (max-width: 767.98px) {
  .card {
    margin-bottom: 1.5rem;
    border-radius: var(--ar-border-radius-lg);

    .card-body {
      padding: 1.5rem;
    }

    .card-header {
      padding: 1.25rem 1.5rem;
    }

    .card-footer {
      padding: 1.25rem 1.5rem;
    }

    // Improved hover states for touch
    &:hover {
      transform: translateY(-2px);
    }

    &:active {
      transform: translateY(0) scale(0.98);
    }
  }
}

// Mobile typography adjustments
@media (max-width: 575.98px) {
  .display-1 {
    font-size: clamp(2.5rem, 8vw, 3.5rem);
    line-height: 1.15;
  }

  .display-2 {
    font-size: clamp(2rem, 6vw, 3rem);
    line-height: 1.2;
  }

  h1, .h1 {
    font-size: clamp(1.5rem, 5vw, 2rem);
    line-height: 1.25;
  }

  h2, .h2 {
    font-size: clamp(1.25rem, 4vw, 1.75rem);
    line-height: 1.3;
  }

  p {
    font-size: 1rem;
    line-height: 1.6;
  }

  .lead {
    font-size: clamp(1.125rem, 3vw, 1.25rem);
  }
}

// Mobile spacing optimizations
@media (max-width: 767.98px) {
  .section-padding {
    padding: clamp(3rem, 6vw, 5rem) 0;
  }

  .section-padding-sm {
    padding: clamp(1.5rem, 3vw, 3rem) 0;
  }

  .section-padding-lg {
    padding: clamp(4rem, 8vw, 7rem) 0;
  }

  .container {
    padding-left: 1rem;
    padding-right: 1rem;
  }
}

// Touch-friendly dropdown improvements
@media (max-width: 991.98px) {
  .dropdown-menu {
    border-radius: var(--ar-border-radius-lg);
    padding: 1rem 0;

    .dropdown-item {
      padding: 1rem 1.5rem;
      font-size: 1rem;
      min-height: 44px;
      display: flex;
      align-items: center;

      &:active {
        transform: scale(0.98);
      }
    }

    .dropdown-header {
      padding: 1rem 1.5rem 0.5rem;
      font-size: 0.875rem;
    }

    .dropdown-divider {
      margin: 0.75rem 1.5rem;
    }
  }
}

// Mobile modal improvements
@media (max-width: 575.98px) {
  .modal {
    .modal-dialog {
      margin: 1rem;

      .modal-content {
        border-radius: var(--ar-border-radius-xl);

        .modal-header {
          padding: 1.25rem 1.5rem;

          .modal-title {
            font-size: 1.25rem;
          }

          .btn-close {
            min-width: 44px;
            min-height: 44px;
          }
        }

        .modal-body {
          padding: 1.5rem;
        }

        .modal-footer {
          padding: 1.25rem 1.5rem;
          flex-direction: column;
          gap: 0.75rem;

          .btn {
            width: 100%;
          }
        }
      }
    }
  }
}

// Mobile table improvements
@media (max-width: 767.98px) {
  .table-responsive {
    border-radius: var(--ar-border-radius-lg);
    border: 1px solid var(--color-border);

    .table {
      margin-bottom: 0;

      th, td {
        white-space: nowrap;
        min-width: 120px;
      }
    }
  }
}

// Mobile list group improvements
@media (max-width: 575.98px) {
  .list-group {
    .list-group-item {
      padding: 1.25rem 1rem;
      font-size: 1rem;

      &.list-group-item-action {
        &:hover, &:focus {
          background: var(--color-surface-hover);
        }

        &:active {
          transform: scale(0.98);
        }
      }
    }
  }
}

// Mobile badge adjustments
@media (max-width: 575.98px) {
  .badge {
    font-size: 0.8125rem;
    padding: 0.4em 0.8em;
    min-height: 24px;
    display: inline-flex;
    align-items: center;
  }
}

// Mobile alert improvements
@media (max-width: 575.98px) {
  .alert {
    padding: 1rem 1.25rem;
    font-size: 0.9375rem;

    .alert-heading {
      font-size: 1.125rem;
    }

    .btn-close {
      min-width: 36px;
      min-height: 36px;
    }
  }
}

// Mobile progress improvements
@media (max-width: 575.98px) {
  .progress {
    height: 10px;
    border-radius: var(--ar-border-radius-pill);
  }
}

// Enhanced touch feedback
@media (hover: none) and (pointer: coarse) {
  // Touch device specific styles
  .btn:active {
    transform: scale(0.95);
    transition: transform 0.1s ease;
  }

  .card:active {
    transform: scale(0.98);
    transition: transform 0.1s ease;
  }

  .nav-link:active {
    background: rgba(0, 0, 255, 0.1);
    transition: background 0.1s ease;
  }

  .dropdown-item:active {
    background: rgba(0, 0, 255, 0.15);
    transition: background 0.1s ease;
  }
}

// Improve scroll behavior on mobile
@media (max-width: 991.98px) {
  body {
    -webkit-overflow-scrolling: touch;
  }

  // Sticky elements adjustments
  .sticky-top {
    top: 1rem;
  }

  // Fixed elements spacing
  .fixed-bottom {
    bottom: 1rem;
    left: 1rem;
    right: 1rem;
  }
}

// Mobile accessibility improvements
@media (max-width: 767.98px) {
  // Larger focus indicators for touch
  *:focus-visible {
    outline-width: 3px;
    outline-offset: 2px;
  }

  // Better contrast for touch targets
  .btn:focus-visible {
    box-shadow: 0 0 0 4px rgba(0, 0, 255, 0.25);
  }

  .form-control:focus {
    box-shadow: 0 0 0 4px rgba(0, 0, 255, 0.15);
  }
}